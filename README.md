## 🏗️ 데이터 파이프라인 구축 (My Role)

경제 뉴스 데이터를 수집하고 AI가 생성한 퀴즈를 데이터베이스에 체계적으로 저장하는 **자동화 파이프라인 구현**을 담당했습니다.

### 💡 아이디어 및 기술 채택 이유
* **n8n을 이용한 프로세스 자동화**: 매일 반복되는 뉴스 수집과 문제 생성 과정을 수동 작업 없이 정해진 시간에 실행하기 위해 사용했습니다.
* **Insert or Update를 통한 데이터 무결성 유지**: 매일 같은 사이트를 크롤링할 때 동일한 기사가 중복으로 저장되는 문제가 생길 수 있습니다. articles 테이블의 **url** 컬럼에 UNIQUE 제약을 부여하고, n8n에서 **Insert or Update** 옵션을 설정하여 이미 존재하는 기사는 최신 내용으로 업데이트하고 새로운 기사만 삽입하도록 설계했습니다. 이를 통해 DB 에러를 방지하고 데이터의 일관성을 확보했습니다.

### 🛠️ 주요 구현 내용
* **뉴스 크롤링 및 데이터 전처리**: 크롤링한 뉴스 목록에서 개별 링크를 추출(**Split Out**)하고, 각 기사 본문을 파싱하여 AI가 읽기 좋은 형태로 가공했습니다.
* **관계형 데이터 연결**: 기사 정보(**articles**)를 저장할 때 생성된 ID 값을 가져와 퀴즈 데이터와 연결함으로써, 어떤 뉴스로 만든 문제인지 명확히 알 수 있게 적재했습니다.
* **JSON 형식 데이터 적재**: AI가 만든 퀴즈 리스트를 DB에 넣을 때, 데이터 구조가 깨지지 않도록 JSON 형식으로 변환하여 저장했습니다.

### 🚀 문제 해결 기록
* **네트워크 접속 이슈**: Supabase(Postgres) 연결 시 발생하는 SSL 및 네트워크 주소 설정 오류를 n8n 옵션 조정을 통해 해결했습니다.
* **데이터 ID 참조 문제**: 노드가 넘어가면서 DB의 고유 ID(PK)를 잃어버리지 않도록 **Returning Columns** 기능을 활용해 다음 노드에서 성공적으로 참조했습니다.
