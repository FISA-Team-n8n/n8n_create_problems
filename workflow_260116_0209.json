{
  "name": "My workflow",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "generate-quiz",
        "options": {
          "allowedOrigins": "http://localhost:8000"
        }
      },
      "name": "Webhook (User Trigger)",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [
        -16,
        32
      ],
      "webhookId": "generate-quiz-webhook",
      "id": "4262052e-f504-4758-9b08-fe929cd2588b",
      "notes": "ìœ ì € ìš”ì²­ íŠ¸ë¦¬ê±°"
    },
    {
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{ $json.body.mode }}",
              "value2": "url"
            }
          ]
        }
      },
      "name": "Switch (URL vs Random)",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [
        240,
        32
      ],
      "id": "6f3edb6d-cfbe-4b99-8f5d-a2919cf38ba4"
    },
    {
      "parameters": {
        "url": "={{ $json.body.target_url}}",
        "options": {}
      },
      "name": "Get Webpage HTML",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [
        496,
        -80
      ],
      "id": "85284c20-a21e-4424-ba0c-6f0334fd5a1e"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://script.google.com/macros/s/AKfycbxaft2oJ7f-rMV2rdg0Y27oQnlNSfDoRRSz_7H99nCibd7qmpbtwks67iKP2cAYbUQ0/exec",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "quiz_data",
              "value": "={{ $json.output[0].content[0].text }}"
            },
            {
              "name": "email",
              "value": "={{ $('Webhook (User Trigger)').item.json.body.email }}"
            }
          ]
        },
        "options": {
          "redirect": {
            "redirect": {}
          },
          "timeout": 60000
        }
      },
      "name": "Send to GAS (Fire & Forget)",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [
        1184,
        -64
      ],
      "id": "0a940d46-42c6-4740-a549-da0ac88551b2",
      "notes": "GASë¡œ JSON ì „ì†¡ (ì‘ë‹µ ëŒ€ê¸° X)"
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "gpt-4.1-nano",
          "mode": "list",
          "cachedResultName": "GPT-4.1-NANO"
        },
        "responses": {
          "values": [
            {
              "content": "=ë„ˆëŠ” 'ê¸ˆìœµ ê²½ì œ êµìœ¡ ì „ë¬¸ê°€'ì•¼. \nìž…ë ¥ëœ ê¸°ì‚¬ë¥¼ ë°”íƒ•ìœ¼ë¡œ í•™ìŠµ ìžë£Œë¥¼ ë§Œë“¤ì–´ì¤˜.\n\n[ìš”ì²­ ì‚¬í•­]\n1. 3ì¤„ ìš”ì•½: ê¸°ì‚¬ í•µì‹¬ ë‚´ìš©ì„ ìš”ì•½í•´ì¤˜.\n2. ê°ê´€ì‹ í€´ì¦ˆ (3ë¬¸ì œ): 4ì§€ ì„ ë‹¤í˜•ìœ¼ë¡œ ë§Œë“¤ê³ , ì •ë‹µê³¼ í•´ì„¤ì„ í¬í•¨í•´ì¤˜.\n3. ì£¼ê´€ì‹/ì„œìˆ í˜• í€´ì¦ˆ (2ë¬¸ì œ): ì‚¬ê³ ë ¥ì„ í‚¤ìš°ëŠ” ì§ˆë¬¸ì„ ë§Œë“¤ê³ , ëª¨ë²” ë‹µì•ˆì„ í¬í•¨í•´ì¤˜.\n\n[ì¶œë ¥ í˜•ì‹ (Markdown)]\n---\n# ðŸ“° ë‰´ìŠ¤ 3ì¤„ ìš”ì•½\n- (ìš”ì•½1)\n- (ìš”ì•½2)\n- (ìš”ì•½3)\n\n# ðŸ“ ê°ê´€ì‹ í€´ì¦ˆ\nQ1. (ë¬¸ì œ)\n1) ë³´ê¸° 2) ë³´ê¸° 3) ë³´ê¸° 4) ë³´ê¸°\n> ì •ë‹µ: O\n> í•´ì„¤: ...\n\nQ2. ...\n\n# ðŸ’¡ ì£¼ê´€ì‹ ì‚¬ê³ ë ¥ í€´ì¦ˆ\nQ1. (ë¬¸ì œ: ê¸°ì‚¬ì˜ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ~ì— ëŒ€í•´ ì„œìˆ í•˜ì‹œì˜¤.)\n> ëª¨ë²” ë‹µì•ˆ: ...\n\nQ2. ...\n---\n\n[ê¸°ì‚¬ ë‚´ìš©]:\n{{ $json.data }}"
            }
          ]
        },
        "builtInTools": {},
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 2.1,
      "position": [
        880,
        -80
      ],
      "id": "cafc3beb-b0dc-4f46-8a53-c0d19967b318",
      "name": "Message a model",
      "credentials": {
        "openAiApi": {
          "id": "LtiXRW3tqr75jvRX",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "html": "={{ $json.data }}",
        "options": {}
      },
      "type": "n8n-nodes-base.markdown",
      "typeVersion": 1,
      "position": [
        704,
        -80
      ],
      "id": "03b9083a-0a35-4831-a847-40a9b7702874",
      "name": "Markdown"
    }
  ],
  "pinData": {},
  "connections": {
    "Webhook (User Trigger)": {
      "main": [
        [
          {
            "node": "Switch (URL vs Random)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch (URL vs Random)": {
      "main": [
        [
          {
            "node": "Get Webpage HTML",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Webpage HTML": {
      "main": [
        [
          {
            "node": "Markdown",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Message a model": {
      "main": [
        [
          {
            "node": "Send to GAS (Fire & Forget)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Markdown": {
      "main": [
        [
          {
            "node": "Message a model",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1",
    "availableInMCP": false
  },
  "versionId": "b61bba22-530d-4d54-adab-9c877c802c25",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "5cecc20ce5c758c19b0b0f69216f83f9e40c165cf168b801857406b67eef8953"
  },
  "id": "AA2BbBB-P6P2ZI1pv9tSv",
  "tags": []
}