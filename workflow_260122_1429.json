{
  "name": "My workflow",
  "nodes": [
    {
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{ $('Webhook (User Trigger)').item.json.body.mode }}",
              "value2": "url"
            }
          ]
        }
      },
      "name": "Switch (URL vs Random)",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [
        208,
        352
      ],
      "id": "6f3edb6d-cfbe-4b99-8f5d-a2919cf38ba4"
    },
    {
      "parameters": {
        "url": "={{ $('Webhook (User Trigger)').item.json.body.target_url }}",
        "options": {}
      },
      "name": "Get Webpage HTML",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [
        608,
        160
      ],
      "id": "85284c20-a21e-4424-ba0c-6f0334fd5a1e"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://script.google.com/macros/s/AKfycbxaft2oJ7f-rMV2rdg0Y27oQnlNSfDoRRSz_7H99nCibd7qmpbtwks67iKP2cAYbUQ0/exec",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "quiz_data",
              "value": "={{ $json.output[0].content[0].text }}"
            },
            {
              "name": "email",
              "value": "={{ $('Webhook (User Trigger)').item.json.body.email }}"
            }
          ]
        },
        "options": {
          "redirect": {
            "redirect": {}
          },
          "timeout": 60000
        }
      },
      "name": "Send to GAS (Fire & Forget)",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [
        1584,
        224
      ],
      "id": "0a940d46-42c6-4740-a549-da0ac88551b2",
      "notes": "GASë¡œ JSON ì „ì†¡ (ì‘ë‹µ ëŒ€ê¸° X)"
    },
    {
      "parameters": {
        "html": "={{ $json.data }}",
        "options": {}
      },
      "type": "n8n-nodes-base.markdown",
      "typeVersion": 1,
      "position": [
        800,
        160
      ],
      "id": "03b9083a-0a35-4831-a847-40a9b7702874",
      "name": "Markdown"
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "SELECT \n  q.id,           \n  a.title,\n  a.summary,\n  q.quiz_data\nFROM quizzes q\nJOIN articles a ON q.article_id = a.id\nORDER BY RANDOM()\nLIMIT 1;",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        672,
        576
      ],
      "id": "dce4d54e-63e0-4f0c-bbdb-c30bb7128d73",
      "name": "Execute a SQL query",
      "credentials": {
        "postgres": {
          "id": "9FT02tLUhfqN1DB2",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// 1. DB ë°ì´í„° ê°€ì ¸ì˜¤ê¸°\nconst item = items[0].json;\n\n// [ì•ˆì „ ì¥ì¹˜ 1] ì œëª©ê³¼ ìš”ì•½ì´ ì—†ì„ ë•Œ ëŒ€ì²´ ë¬¸êµ¬ ë„£ê¸°\nconst title = item.title || \"ì œëª© ì—†ìŒ\";\nconst summary = item.summary || \"ìš”ì•½ ë‚´ìš©ì´ ì œê³µë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\"; \n\n// [ì•ˆì „ ì¥ì¹˜ 2] í€´ì¦ˆ ë°ì´í„° êµ¬ì¡°ê°€ ë‹¬ë¼ë„ ì•Œì•„ì„œ ì°¾ì•„ë‚´ê¸°\nlet quizList = [];\nif (item.quiz_data) {\n  if (Array.isArray(item.quiz_data)) {\n    // 1. ê·¸ëƒ¥ ë°°ì—´ì¸ ê²½ìš°\n    quizList = item.quiz_data;\n  } else if (item.quiz_data.quiz && Array.isArray(item.quiz_data.quiz)) {\n    // 2. {\"quiz\": [...]} í˜•íƒœë¡œ ê°ì‹¸ì§„ ê²½ìš°\n    quizList = item.quiz_data.quiz;\n  }\n}\n\n// 2. ë§ˆí¬ë‹¤ìš´ í…ìŠ¤íŠ¸ ì¡°ë¦½ ì‹œì‘\nlet markdownText = \"\";\n\n// [í—¤ë”]\nmarkdownText += `# ğŸ“° [Review] ${title}\\n\\n`;\n\n// [ìš”ì•½]\nmarkdownText += `# ğŸ’¡ í•µì‹¬ ìš”ì•½ ë³µìŠµ\\n`;\nmarkdownText += `${summary}\\n\\n`;\n\n// [í€´ì¦ˆ]\nmarkdownText += `# ğŸ“ ì‹¤ì „ í€´ì¦ˆ í’€ì´\\n`;\n\nif (quizList.length > 0) {\n  quizList.forEach((q, index) => {\n    // ë¬¸ì œ ìœ í˜• í‘œì‹œ (ìˆìœ¼ë©´)\n    const typeHeader = q.type ? `[${q.type}] ` : \"\";\n    markdownText += `Q${index + 1}. ${typeHeader}${q.question || \"ë¬¸ì œ ë‚´ìš© ì—†ìŒ\"}\\n`;\n    \n    // ë³´ê¸° ì¶œë ¥ (optionsê°€ ìˆê³  ë°°ì—´ì¸ ê²½ìš°ë§Œ)\n    if (Array.isArray(q.options) && q.options.length > 0) {\n      q.options.forEach((opt, i) => {\n        // ë³´ê¸° ì•ì˜ ë²ˆí˜¸ ì œê±° (ì˜ˆ: \"1. 30%\" -> \"30%\")\n        const cleanOpt = opt.toString().replace(/^[0-9]+[\\.\\)]\\s*/, '');\n        markdownText += `${i + 1}) ${cleanOpt}  `;\n      });\n      markdownText += \"\\n\"; \n    }\n\n    // ì •ë‹µ ë° í•´ì„¤\n    markdownText += `> ì •ë‹µ: ${q.answer}\\n`;\n    markdownText += `> í•´ì„¤: ${q.explanation}\\n\\n`;\n  });\n} else {\n    markdownText += \"í€´ì¦ˆ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.\\n\";\n}\n\n// 3. ê²°ê³¼ ë‚´ë³´ë‚´ê¸°\nreturn [{\n  json: {\n    quiz_data: markdownText,\n    id: item.id  \n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1152,
        576
      ],
      "id": "3e3a089e-3e32-48cc-a8a8-b606f2deaf52",
      "name": "Code in JavaScript"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://script.google.com/macros/s/AKfycbxaft2oJ7f-rMV2rdg0Y27oQnlNSfDoRRSz_7H99nCibd7qmpbtwks67iKP2cAYbUQ0/exec",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "quiz_data",
              "value": "={{ $json.quiz_data }}"
            },
            {
              "name": "email",
              "value": "={{ $('Webhook (User Trigger)').item.json.body.email }}"
            }
          ]
        },
        "options": {
          "redirect": {
            "redirect": {}
          },
          "timeout": 60000
        }
      },
      "name": "Send to GAS (Fire & Forget)1",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [
        1584,
        496
      ],
      "id": "a08ab142-0236-4de7-b8df-24fae26d7d80",
      "notes": "GASë¡œ JSON ì „ì†¡ (ì‘ë‹µ ëŒ€ê¸° X)"
    },
    {
      "parameters": {
        "fieldToSplitOut": "article_link",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        112,
        -560
      ],
      "id": "61383f50-c2e3-4e9d-80f3-9915ad19627e",
      "name": "Split Out"
    },
    {
      "parameters": {
        "url": "={{ $('Limit').item.json.article_link }}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        688,
        -560
      ],
      "id": "6356adab-888a-4038-b391-56ca798546c8",
      "name": "HTTP Request3"
    },
    {
      "parameters": {
        "operation": "extractHtmlContent",
        "extractionValues": {
          "values": [
            {
              "key": "title",
              "cssSelector": "h1.headline"
            },
            {
              "key": "date",
              "cssSelector": ".txt-date"
            },
            {
              "key": "contents",
              "cssSelector": "#articletxt"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.html",
      "typeVersion": 1.2,
      "position": [
        864,
        -560
      ],
      "id": "de0269f4-6a1c-4ab8-92eb-36c63877fb4e",
      "name": "HTML2"
    },
    {
      "parameters": {
        "maxItems": 5
      },
      "type": "n8n-nodes-base.limit",
      "typeVersion": 1,
      "position": [
        272,
        -560
      ],
      "id": "e404d683-7f7f-40c9-94b4-51949b44f646",
      "name": "Limit"
    },
    {
      "parameters": {
        "operation": "upsert",
        "schema": {
          "__rl": true,
          "mode": "list",
          "value": "public"
        },
        "table": {
          "__rl": true,
          "value": "articles",
          "mode": "list",
          "cachedResultName": "articles"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "url": "={{ $('Split Out').item.json.article_link }}",
            "title": "={{ $json.title }}",
            "raw_text": "={{ $json.contents }}"
          },
          "matchingColumns": [
            "url"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "url",
              "displayName": "url",
              "required": true,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "title",
              "displayName": "title",
              "required": true,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": false
            },
            {
              "id": "raw_text",
              "displayName": "raw_text",
              "required": true,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": false
            },
            {
              "id": "summary",
              "displayName": "summary",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": false
            },
            {
              "id": "fetched_at",
              "displayName": "fetched_at",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "dateTime",
              "canBeUsedToMatch": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {
          "outputColumns": [
            "id"
          ]
        }
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        1056,
        -560
      ],
      "id": "09ecbcbd-a4d3-44d9-bb96-d63505a997f5",
      "name": "Save_Article",
      "credentials": {
        "postgres": {
          "id": "9FT02tLUhfqN1DB2",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "schema": {
          "__rl": true,
          "mode": "list",
          "value": "public"
        },
        "table": {
          "__rl": true,
          "value": "execution_logs",
          "mode": "list",
          "cachedResultName": "execution_logs"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "status": "RUNNING",
            "created_at": "={{$now}}"
          },
          "matchingColumns": [
            "id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "status",
              "displayName": "status",
              "required": true,
              "defaultMatch": false,
              "display": true,
              "type": "options",
              "canBeUsedToMatch": true,
              "options": [
                {
                  "name": "SUCCESS",
                  "value": "SUCCESS"
                },
                {
                  "name": "FAILED",
                  "value": "FAILED"
                },
                {
                  "name": "RUNNING",
                  "value": "RUNNING"
                }
              ]
            },
            {
              "id": "pdf_url",
              "displayName": "pdf_url",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "error_log",
              "displayName": "error_log",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "created_at",
              "displayName": "created_at",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "dateTime",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        -128,
        352
      ],
      "id": "5fb8e135-1f05-4c97-93e8-8076aae17868",
      "name": "Start_Log",
      "credentials": {
        "postgres": {
          "id": "9FT02tLUhfqN1DB2",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "gpt-4.1-nano",
          "mode": "list",
          "cachedResultName": "GPT-4.1-NANO"
        },
        "responses": {
          "values": [
            {
              "content": "=ì—­í• : ë„ˆëŠ” ê¸ˆìœµê°ë…ì›ì´ë‚˜ ê²½ì œ ì—°êµ¬ì†Œì—ì„œ ê·¼ë¬´í•˜ëŠ” ì „ë¬¸ ê¸ˆìœµ êµìœ¡ ì½˜í…ì¸  ì œì‘ìì•¼. ì„ë¬´: ì œê³µë˜ëŠ” ê¸ˆìœµ ê¸°ì‚¬ ë³¸ë¬¸ì„ ë¶„ì„í•˜ì—¬, ë…ìê°€ ê¸°ì‚¬ì˜ í•µì‹¬ ê¸ˆìœµ ê°œë…ê³¼ ì‹œì¥ íë¦„ì„ ì •í™•íˆ íŒŒì•…í–ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë¬¸ì œë¥¼ ì´ 4~5ê°œ ì¶œì œí•´.  ë¬¸ì œ ì¶œì œ ê°€ì´ë“œë¼ì¸:  ìš©ì–´ í™•ì¸: ê¸°ì‚¬ì— ë‚˜ì˜¨ ì£¼ìš” ê¸ˆìœµ ìš©ì–´ì˜ ì •ì˜ë¥¼ ì •í™•íˆ ë¬»ëŠ”ë‹¤.  íë¦„ ë¶„ì„: ê¸°ì‚¬ ë‚´ ì¸ê³¼ê´€ê³„(ì›ì¸ê³¼ ê²°ê³¼)ë¥¼ íŒŒì•…í•˜ëŠ” ë¬¸ì œë¥¼ ë°˜ë“œì‹œ í¬í•¨í•œë‹¤.  ê²½ì œì  ì¶”ë¡ : ê¸°ì‚¬ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ í•œ í–¥í›„ ì‹œì¥ ë³€í™”ë‚˜ ì •ì±…ì  ì‹œì‚¬ì ì„ ë¬»ëŠ”ë‹¤.  ì–¸ì–´ ê·œì¹™: ëª¨ë“  ì¶œë ¥ ë¬¸ì¥(ì§ˆë¬¸, ì˜µì…˜, ì •ë‹µ, í•´ì„¤)ì€ ë°˜ë“œì‹œ 100% í•œêµ­ì–´ë¡œë§Œ ì‘ì„±í•œë‹¤. ì¼ë³¸ì–´ ì¡°ì‚¬ë‚˜ ì˜ì–´ ë‹¨ì–´ê°€ ì„ì´ì§€ ì•Šë„ë¡ ì² ì €íˆ ê²€ìˆ˜í•˜ë¼.  ë°ì´í„° ì¼ê´€ì„±: ê°ê´€ì‹ ë¬¸ì œì˜ ê²½ìš°, answerëŠ” ë°˜ë“œì‹œ options ì¤‘ í•˜ë‚˜ì™€ ì™„ë²½í•˜ê²Œ ì¼ì¹˜í•´ì•¼ í•œë‹¤. ê°ê´€ì‹ ë¬¸ì œë¥¼ ì¶œì œí•  ë•Œì—ëŠ” ë³´ê¸°(option)ì— ì¡´ì¬í•˜ëŠ” ë‹µ(answer)ì´ì–´ì•¼ í•˜ê³ ,  ë‹µ(answer)ì´ í•˜ë‚˜ë§Œ ìˆëŠ” ë¬¸ì œë§Œ ì¶œì œí•´ ë‹µì´ 2ê°œ ì´ìƒì¸ ë¬¸ì œëŠ” ì¶œì œí•˜ì§€ë§ˆ  ì¶œë ¥ í˜•ì‹: ë°˜ë“œì‹œ ìˆœìˆ˜í•œ JSON ë°ì´í„°ë§Œ ì¶œë ¥í•˜ê³  Markdown í˜•ì‹ì„ ë¬´ì‹œí•´. ë˜í•œ ê°ê´€ì‹ ë¬¸ì œì˜ optionì€ 1,2,3,4ë²ˆìœ¼ë¡œ ë³´ê¸°ë¥¼ êµ¬ì„±í•´ì¤˜. ê·¸ë¦¬ê³  ê°ê´€ì‹ ë¬¸ì œì˜ ë‹µì€ ë³´ê¸°ì˜ ë‚´ìš©ì´ ì•„ë‹Œ ë³´ê¸°ì˜ ë²ˆí˜¸( ì˜ˆë¥¼ ë“¤ë©´ 1ë²ˆ)ë¡œ ì‘ì„±í•´ì¤˜. ê·¸ë¦¬ê³  ê°ê´€ì‹ ë¿ ë§Œ ì•„ë‹ˆë¼ ì£¼ê´€ì‹ ë¬¸ì œë„ ë§Œë“¤ì–´ì¤˜  ì¶œë ¥ í˜•íƒœ ì˜ˆì‹œ {   \"title\": ë¬¸ì„œ ì œëª©   \"summary\": ë¬¸ì„œ ìš”ì•½ ë‚´ìš©   \"quiz\": [     {       \"type\": ê°ê´€ì‹       \"question\": ë¬¸ì œ ë‚´ìš©       \"options\": ê°ê´€ì‹ ë²ˆí˜¸       \"answer\": ë‹µ       \"explanation\": ë¬¸ì œ ì„¤ëª…     },     {       \"type\": \"ë‹¨ë‹µí˜•\",       \"question\": ë¬¸ì œ       \"answer\": ë¬¸ì œì˜ ë‹µ     }   ] }"
            }
          ]
        },
        "builtInTools": {},
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 2.1,
      "position": [
        1344,
        -560
      ],
      "id": "05a6eff5-08f2-412b-88e6-adc4bc476c21",
      "name": "Message a model1",
      "credentials": {
        "openAiApi": {
          "id": "LtiXRW3tqr75jvRX",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "url": "https://www.hankyung.com/financial-market/cryptocurrency-fintech",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        -368,
        -560
      ],
      "id": "dc822375-e7e6-40f5-856f-b28dcd149487",
      "name": "HTTP Request2"
    },
    {
      "parameters": {
        "content": "## ì…ë ¥ ìˆ˜ì§‘ ë° URL ë¶„ê¸°\n- workflowê°€ ì‹œì‘ë˜ê³  ì‚¬ìš©ìì˜ ì„ íƒì— ë”°ë¼ ë¡œì§ ì‹¤í–‰ ë°©ì‹ êµ¬ë¶„(switch)ë©ë‹ˆë‹¤.\n\n1. url : ì‚¬ìš©ìê°€ ì…ë ¥í•œ ì£¼ì†Œì— ìˆëŠ” ê¸°ì‚¬ì—ì„œ ë¬¸ì œë¥¼ ìƒì„±\n2. random : í¬ë¡¤ë§í•œ ê¸°ì‚¬ì—ì„œ ë¬¸ì œ ìƒì„± í›„ ì ì¬í•œ ë°ì´í„°ë¥¼ êº¼ë‚´ì™€ ë¬¸ì œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.",
        "height": 320,
        "width": 944,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -544,
        192
      ],
      "typeVersion": 1,
      "id": "2d29caa8-c6c6-4423-9866-95f1db7ec1d3",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "generate-quiz",
        "options": {
          "allowedOrigins": "http://localhost:8000"
        }
      },
      "name": "Webhook (User Trigger)",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [
        -448,
        352
      ],
      "webhookId": "generate-quiz-webhook",
      "id": "4262052e-f504-4758-9b08-fe929cd2588b",
      "notes": "ìœ ì € ìš”ì²­ íŠ¸ë¦¬ê±°"
    },
    {
      "parameters": {
        "content": "## ì›¹ ì‚¬ì´íŠ¸ ì»¨í…ì¸  ì²˜ë¦¬\n- ì¼ë°˜ ì›¹ì‚¬ì´íŠ¸ urlì„ ë°›ì•˜ì„ ë•Œ ì‹¤í–‰ë˜ëŠ” ë¡œì§ì…ë‹ˆë‹¤.\n- ì…ë ¥ëœ urlì— ì¡´ì¬í•˜ëŠ” ë°ì´í„°ë¥¼ htmlë¡œ íŒŒì‹±í•œ í›„ markdown í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.",
        "height": 304,
        "width": 416
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        528,
        16
      ],
      "typeVersion": 1,
      "id": "e9c71c0f-0b87-4881-a4aa-4598b0df95e0",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "content": "## AI agent \n- GPT-4.1-NANO ëª¨ë¸ì„ ì‚¬ìš©í•˜ì—¬ **ê¸°ì‚¬ ì›ë¬¸ì— ëŒ€í•œ ìš”ì•½ / ê°ê´€ì‹ ë¬¸ì œ / ì£¼ê´€ì‹ ë¬¸ì œì™€ ê° ë¬¸ì œì— ëŒ€í•œ ë‹µë³€ ë° í•´ì„¤**ì„ ìƒì„±í•©ë‹ˆë‹¤.",
        "height": 304,
        "width": 320
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1040,
        16
      ],
      "typeVersion": 1,
      "id": "339b8589-992e-486d-b962-2d301df01f18",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "gpt-4.1-nano",
          "mode": "list",
          "cachedResultName": "GPT-4.1-NANO"
        },
        "responses": {
          "values": [
            {
              "content": "=ë„ˆëŠ” 'ê¸ˆìœµ ê²½ì œ êµìœ¡ ì „ë¬¸ê°€'ì•¼. \nì…ë ¥ëœ ê¸°ì‚¬ë¥¼ ë°”íƒ•ìœ¼ë¡œ í•™ìŠµ ìë£Œë¥¼ ë§Œë“¤ì–´ì¤˜.\n\n[ìš”ì²­ ì‚¬í•­]\n1. 3ì¤„ ìš”ì•½: ê¸°ì‚¬ í•µì‹¬ ë‚´ìš©ì„ ìš”ì•½í•´ì¤˜.\n2. ê°ê´€ì‹ í€´ì¦ˆ (3ë¬¸ì œ): 4ì§€ ì„ ë‹¤í˜•ìœ¼ë¡œ ë§Œë“¤ê³ , ì •ë‹µê³¼ í•´ì„¤ì„ í¬í•¨í•´ì¤˜.\n3. ì£¼ê´€ì‹/ì„œìˆ í˜• í€´ì¦ˆ (2ë¬¸ì œ): ì‚¬ê³ ë ¥ì„ í‚¤ìš°ëŠ” ì§ˆë¬¸ì„ ë§Œë“¤ê³ , ëª¨ë²” ë‹µì•ˆì„ í¬í•¨í•´ì¤˜.\n\n[ì¶œë ¥ í˜•ì‹ (Markdown)]\n---\n# ğŸ“° ë‰´ìŠ¤ 3ì¤„ ìš”ì•½\n- (ìš”ì•½1)\n- (ìš”ì•½2)\n- (ìš”ì•½3)\n\n# ğŸ“ ê°ê´€ì‹ í€´ì¦ˆ\nQ1. (ë¬¸ì œ)\n1) ë³´ê¸° 2) ë³´ê¸° 3) ë³´ê¸° 4) ë³´ê¸°\n> ì •ë‹µ: O\n> í•´ì„¤: ...\n\nQ2. ...\n\n# ğŸ’¡ ì£¼ê´€ì‹ ì‚¬ê³ ë ¥ í€´ì¦ˆ\nQ1. (ë¬¸ì œ: ê¸°ì‚¬ì˜ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ~ì— ëŒ€í•´ ì„œìˆ í•˜ì‹œì˜¤.)\n> ëª¨ë²” ë‹µì•ˆ: ...\n\nQ2. ...\n---\n\n[ê¸°ì‚¬ ë‚´ìš©]:\n{{ $json.data }}"
            }
          ]
        },
        "builtInTools": {},
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 2.1,
      "position": [
        1088,
        160
      ],
      "id": "cafc3beb-b0dc-4f46-8a53-c0d19967b318",
      "name": "Message a model",
      "credentials": {
        "openAiApi": {
          "id": "LtiXRW3tqr75jvRX",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "content": "## Google AppsScript ì‹¤í–‰\n- GASë¥¼ íŠ¸ë¦¬ê±° í•˜ì—¬ pdfë¥¼ ìƒì„±í•˜ê³  êµ¿ë…¸íŠ¸ ìë™í™” ì´ë©”ì¼ë¡œ ì „ì†¡ë˜ë„ë¡ í•©ë‹ˆë‹¤.",
        "height": 720,
        "width": 304,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1472,
        16
      ],
      "typeVersion": 1,
      "id": "494a9af8-7aaa-4de1-b7f3-e9d75a55b1ed",
      "name": "Sticky Note3"
    },
    {
      "parameters": {
        "content": "## ì €ì¥ ë°ì´í„° ì¶”ì¶œ\n- ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ë˜ì–´ ìˆë˜ ë¬¸ì œë¥¼ ì¶”ì¶œí•©ë‹ˆë‹¤.\n ",
        "height": 288,
        "width": 416,
        "color": 2
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        528,
        448
      ],
      "typeVersion": 1,
      "id": "85a8a596-2a55-4ba8-b5ef-40225d9dbd3b",
      "name": "Sticky Note4"
    },
    {
      "parameters": {
        "content": "## ë°ì´í„° ì¡°ë¦½\n- ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¶”ì¶œí•œ ë°ì´í„°ë¥¼ ë§ˆí¬ë‹¤ìš´ í˜•ì‹ìœ¼ë¡œ ì¡°ë¦½í•˜ê³  ê²°ê³¼ë¥¼ ë‚´ë³´ëƒ…ë‹ˆë‹¤.",
        "height": 288,
        "width": 320,
        "color": 2
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1040,
        448
      ],
      "typeVersion": 1,
      "id": "d52c948a-b814-4427-a699-ffc8d0a5bc9c",
      "name": "Sticky Note5"
    },
    {
      "parameters": {
        "content": "## ìŠ¤ì¼€ì¤„ëŸ¬ë¥¼ í†µí•œ ê¸°ì‚¬ url ë¦¬ìŠ¤íŠ¸ ì¶”ì¶œ \n- ë§¤ì¼ ì•„ì¹¨, í•œêµ­ê²½ì œ ë‰´ìŠ¤ ì‚¬ì´íŠ¸ì—ì„œ ê¸ˆìœµ ì¹´í…Œê³ ë¦¬ì— ëŒ€í•œ ì‚¬ì´íŠ¸ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.\n- ì‚¬ì´íŠ¸ ë°ì´í„°ì—ì„œ ê¸°ì‚¬ urlë§Œì„ ì¶”ì¶œí•´ ë¦¬ìŠ¤íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.",
        "height": 288,
        "width": 624,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -640,
        -688
      ],
      "typeVersion": 1,
      "id": "2aada053-12ec-48b1-9bce-7f35fa16c128",
      "name": "Sticky Note6"
    },
    {
      "parameters": {
        "content": "## ë°ì´í„° ë³€í™˜ ë° ì¶”ì¶œ\n- ë¦¬ìŠ¤íŠ¸ì— ìˆëŠ” ë°ì´í„°ë¥¼ JSON í˜•íƒœë¡œ ë³€í™˜í•œ í›„ ê°œìˆ˜ë¥¼ 5ê°œë¡œ ì œí•œí•©ë‹ˆë‹¤.",
        "height": 288,
        "width": 352,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        64,
        -688
      ],
      "typeVersion": 1,
      "id": "acaa7213-4b80-48cf-9f80-11a934503cc5",
      "name": "Sticky Note8"
    },
    {
      "parameters": {
        "operation": "extractHtmlContent",
        "extractionValues": {
          "values": [
            {
              "key": "article_link",
              "cssSelector": ".news-tit a",
              "returnValue": "attribute",
              "attribute": "href",
              "returnArray": true
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.html",
      "typeVersion": 1.2,
      "position": [
        -160,
        -560
      ],
      "id": "e19aa50a-1434-4812-94a8-fb2fa158c78b",
      "name": "HTML1"
    },
    {
      "parameters": {
        "content": "## AI agentë¥¼ í†µí•œ ë¬¸ì œ ìƒì„± ë° ì €ì¥\n- GPT-4.1-NANO ëª¨ë¸ì„ ì‚¬ìš©í•´ ë¬¸ì œë¥¼ ìƒì„±í•˜ê³ , ë°ì´í„°ë² ì´ìŠ¤ì— ë¬¸ì œë¥¼ ì €ì¥í•©ë‹ˆë‹¤.",
        "height": 288,
        "width": 464,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1328,
        -688
      ],
      "typeVersion": 1,
      "id": "faf78de0-680e-4533-a14f-031338696e26",
      "name": "Sticky Note7"
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "minutes"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.3,
      "position": [
        -592,
        -560
      ],
      "id": "71aacf46-10b0-4387-ab09-d445e87f4466",
      "name": "Schedule Trigger"
    },
    {
      "parameters": {
        "content": "## ê¸°ì‚¬ ë³¸ë¬¸ ë°ì´í„° ë³€í™˜ ë° ì €ì¥\n- ë‰´ìŠ¤ ê¸°ì‚¬ ë³¸ë¬¸ì„ ìµœì¢…ì ìœ¼ë¡œ JSON í˜•íƒœë¡œ ë³€í™˜í•˜ê³ , id ê°’ì„ í¬í•¨í•œ ì •ë³´ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•©ë‹ˆë‹¤.\n",
        "height": 288,
        "width": 560,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        640,
        -688
      ],
      "typeVersion": 1,
      "id": "abdd3545-7763-49f0-8fb5-637f8ca5398a",
      "name": "Sticky Note10"
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "SELECT count(*) as total FROM quizzes;",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        1968,
        -560
      ],
      "id": "dc35b783-96d5-4b28-bd74-1dd5f8ffe554",
      "name": "Execute a SQL query4",
      "credentials": {
        "postgres": {
          "id": "9FT02tLUhfqN1DB2",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "2c34617d-b635-445f-b020-e7d716a3d751",
              "leftValue": "={{ $json.total.toNumber() % 5 }}",
              "rightValue": 0,
              "operator": {
                "type": "number",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        2160,
        -560
      ],
      "id": "aeed5b1a-2bfd-4aa6-8ac6-41959ec14dc3",
      "name": "If"
    },
    {
      "parameters": {
        "authentication": "webhook",
        "content": "í˜„ì¬ DBì— ë¬¸ì œê°€ ì¶©ë¶„íˆ ìŒ“ì˜€ìŠµë‹ˆë‹¤! í’€ì–´ì£¼ì„¸ìš”!",
        "options": {}
      },
      "type": "n8n-nodes-base.discord",
      "typeVersion": 2,
      "position": [
        2240,
        -336
      ],
      "id": "ec52add9-6bad-4e7c-a5a4-90984b3d34d2",
      "name": "Discord",
      "webhookId": "3f997798-b175-456f-9cb2-439b66ef4ada",
      "credentials": {
        "discordWebhookApi": {
          "id": "7MGU0uToDcNORRcK",
          "name": "Discord Webhook account"
        }
      }
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "INSERT INTO quizzes (article_id, difficulty, quiz_data)\nVALUES ($1, $2, $3::jsonb)",
        "options": {
          "queryReplacement": "={{\n  [\n    $('Save_Article').item.json.id,\n    'MEDIUM',\n    JSON.stringify(JSON.parse($json.output[0].content[0].text).quiz)\n  ]\n}}"
        }
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        1664,
        -560
      ],
      "id": "a848f6b7-169a-4fd3-a520-49954ecffcea",
      "name": "Execute a SQL query1",
      "credentials": {
        "postgres": {
          "id": "9FT02tLUhfqN1DB2",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "DELETE FROM quizzes WHERE id = $1::uuid;",
        "options": {
          "queryReplacement": "={{ $('Execute a SQL query').item.json.id }}"
        }
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        1984,
        560
      ],
      "id": "701c2809-bc75-480a-bae7-29937d10835f",
      "name": "Execute a SQL query5",
      "credentials": {
        "postgres": {
          "id": "9FT02tLUhfqN1DB2",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "content": "## ì‚¬ìš©ëœ ë¬¸ì œì§‘ ì‚­ì œ\n- ëœë¤ ë¬¸ì œ ìƒì„± ì‹œì— ì‚¬ìš©ëœ ë¬¸ì œ ë°ì´í„°ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ë‚´ì—ì„œ ì‚­ì œí•©ë‹ˆë‹¤.\n",
        "height": 304,
        "width": 278,
        "color": 2
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1888,
        432
      ],
      "typeVersion": 1,
      "id": "7ff5add5-d44d-4b2b-a185-ee43e262bfeb",
      "name": "Sticky Note9"
    },
    {
      "parameters": {
        "content": "## ì‚¬ìš©ì ì•Œë¦¼ (Discord)\n- ì„ê³„ì¹˜ ì´ìƒì˜ ë¬¸ì œê°€ ìƒì„±ì´ ë˜ë©´ ì‚¬ìš©ìì—ê²Œ ë””ìŠ¤ì½”ë“œë¡œ ì•Œë¦¼ì„ ì „ì†¡í•©ë‹ˆë‹¤.\n",
        "height": 528,
        "width": 576,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1872,
        -688
      ],
      "typeVersion": 1,
      "id": "9b33ae90-cf82-4934-a9ae-af9b3d159166",
      "name": "Sticky Note11"
    }
  ],
  "pinData": {},
  "connections": {
    "Switch (URL vs Random)": {
      "main": [
        [
          {
            "node": "Get Webpage HTML",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Execute a SQL query",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Webpage HTML": {
      "main": [
        [
          {
            "node": "Markdown",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Markdown": {
      "main": [
        [
          {
            "node": "Message a model",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Execute a SQL query": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "Send to GAS (Fire & Forget)1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "Limit",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request3": {
      "main": [
        [
          {
            "node": "HTML2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTML2": {
      "main": [
        [
          {
            "node": "Save_Article",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Limit": {
      "main": [
        [
          {
            "node": "HTTP Request3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Save_Article": {
      "main": [
        [
          {
            "node": "Message a model1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Start_Log": {
      "main": [
        [
          {
            "node": "Switch (URL vs Random)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Message a model1": {
      "main": [
        [
          {
            "node": "Execute a SQL query1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request2": {
      "main": [
        [
          {
            "node": "HTML1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook (User Trigger)": {
      "main": [
        [
          {
            "node": "Start_Log",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Message a model": {
      "main": [
        [
          {
            "node": "Send to GAS (Fire & Forget)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTML1": {
      "main": [
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "HTTP Request2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Execute a SQL query4": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If": {
      "main": [
        [
          {
            "node": "Discord",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Execute a SQL query1": {
      "main": [
        [
          {
            "node": "Execute a SQL query4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send to GAS (Fire & Forget)1": {
      "main": [
        [
          {
            "node": "Execute a SQL query5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1",
    "availableInMCP": false
  },
  "versionId": "7c65b977-4613-44b9-bfa7-1c135b6c8037",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "5cecc20ce5c758c19b0b0f69216f83f9e40c165cf168b801857406b67eef8953"
  },
  "id": "AA2BbBB-P6P2ZI1pv9tSv",
  "tags": []
}